new entry "KHB_SELUNESGRACE_AURA"
type "StatusData"
data "StatusType" "BOOST"
// Healing Radiance
data "DisplayName" "hd545e2f3g7d65g45ceg8e98g644247ca9ca2;1"
// Affected paladin is calling upon the powers of nature. The paladin and its allies within [2] will regain [1] at the start of the paladin's next turn.
data "Description" "heea9b291g431dg4608g8c6dgdf159e2b35e7;3"
data "DescriptionParams" "IF(Ally()):RegainHitPoints(LevelMapValue(MartialArts));Distance(3)"
data "Icon" "Action_Paladin_HealingRadiance"
data "StackId" "HEALING_RADIANCE"
data "TickType" "StartTurn"
data "StatusGroups" "SG_RemoveOnRespec"


new entry "KHB_SELUNESGRACE"
type "StatusData"
data "StatusType" "BOOST"
// Moonbeam
data "DisplayName" "heb1d42dfgaad2g4ca6gabf7g83b101791226;2"
// Creature is engulfed by ghostly flames that deal [1] per turn. On a successful save, the creature still takes half damage.
data "Description" "hddd473aegb174g4f67g934dg1399cdcebc9d;2"
data "DescriptionParams" "DealDamage(LevelMapValue(MartialArts),Radiant)"
data "Icon" "Spell_Evocation_Moonbeam"
data "SoundStart" "Spell_Status_MoonBeam_Enter"
data "SoundLoop" "Spell_Status_MoonBeam_MO"
data "SoundStop" "Spell_Status_MoonBeam_MO_Stop"
data "StackId" "MOONBEAM"
data "TickType" "StartTurn"
data "StatusPropertyFlags" "InitiateCombat;BringIntoCombat"
data "OnApplyRoll" "not SavingThrow(Ability.Constitution,CalculateSpellDC(context.PreferredCastingAbility, GetSummoner(context.Source)))"
data "OnApplySuccess" "IF(Enemy()):DealDamage(LevelMapValue(MartialArts), Radiant,Magical); IF(Enemy()):ApplyStatus(KHB_SELUNESGRACE,100,1);IF(Ally()):RegainHitPoints(LevelMapValue(MartialArts))"
data "OnApplyFail" "IF(Enemy()):DealDamage(LevelMapValue(MartialArts) / 2,Radiant,Magical);IF(Ally()):RegainHitPoints(LevelMapValue(MartialArts) / 2)"
data "OnTickRoll" "not SavingThrow(Ability.Constitution,CalculateSpellDC(context.PreferredCastingAbility, GetSummoner(context.Source)))"
data "OnTickSuccess" "IF(Enemy()):DealDamage(LevelMapValue(MartialArts), Radiant,Magical); IF(Enemy()):ApplyStatus(KHB_SELUNESGRACE,100,1);IF(Ally()):RegainHitPoints(LevelMapValue(MartialArts))"
data "OnTickFail" "DealDamage(2d10/2,Radiant,Magical);IF(Ally()):RegainHitPoints(LevelMapValue(MartialArts))"
data "ApplyEffect" "62710804-ff29-4936-9d45-0e6a44372526"
data "StatusEffect" "73f8b212-1a39-4214-8a32-b5e1427ec860"